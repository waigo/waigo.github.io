<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/><link rel="shortcut icon" href="/img/logo.ico"/><link rel="shortcut icon" href="/img/logo.png"/><meta name="msapplication-TileColor" content="#fff"/><meta name="msapplication-TileImage" content="/img/logo.png"/><title>Error middleware | Waigo.js</title><style>@import url('https://fonts.googleapis.com/css?family=Roboto Mono:300|Open Sans:300,400|Raleway:100,300,500');a,abbr,acronym,address,applet,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,form,h1,h2,h3,h4,h5,h6,html,iframe,img,ins,kbd,label,legend,li,object,ol,p,pre,q,s,samp,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline}body{line-height:1;color:#000;background:#fff}ol,ul{list-style:none}table{border-collapse:separate;border-spacing:0}caption,table,td,th{vertical-align:middle}caption,td,th{text-align:left;font-weight:400}a img{border:none}*{box-sizing:border-box}@font-face{font-family:FontAwesome;src:url("/fonts/fontawesome-webfont.eot?v=4.6.1");src:url("/fonts/fontawesome-webfont.eot?#iefix&v=4.6.1") format('embedded-opentype'),url("/fonts/fontawesome-webfont.woff?v=4.6.1") format('woff'),url("/fonts/fontawesome-webfont.woff2?v=4.6.1") format('woff2'),url("/fonts/fontawesome-webfont.ttf?v=4.6.1") format('truetype'),url("/fonts/fontawesome-webfont.svg?v=4.6.1#fontawesomeregular") format('svg');font-weight:400;font-style:normal}.fa,.page.guide section.content a.github-edit-link:before,i.arrow.left:before,i.arrow.right:before,i.changelog:before,i.discuss:before,i.github:before,i.menu.open:before,i.menu:before,i.twitter:before{display:inline-block;font-family:FontAwesome;font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.333333333333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.285714285714286em;text-align:center}.fa-ul{padding-left:0;margin-left:2.142857142857143em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.142857142857143em;width:2.142857142857143em;top:.142857142857143em;text-align:center}.fa-li.fa-lg{left:-1.857142857142857em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left,.page.guide section.content a.github-edit-link:before.pull-left,i.arrow.left:before.pull-left,i.arrow.right:before.pull-left,i.changelog:before.pull-left,i.discuss:before.pull-left,i.github:before.pull-left,i.menu.open:before.pull-left,i.menu:before.pull-left,i.twitter:before.pull-left{margin-right:.3em}.fa.pull-right,.page.guide section.content a.github-edit-link:before.pull-right,i.arrow.left:before.pull-right,i.arrow.right:before.pull-right,i.changelog:before.pull-right,i.discuss:before.pull-right,i.github:before.pull-right,i.menu.open:before.pull-right,i.menu:before.pull-right,i.twitter:before.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:spin 2s infinite linear;animation:spin 2s infinite linear}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0,mirror=1);-webkit-transform:scaleX(-1);transform:scaleX(-1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2,mirror=1);-webkit-transform:scaleY(-1);transform:scaleY(-1)}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.page.home section.features-1 ul li .title,.page.home section.next-links>div a,.page.home section.quick-start h2,.page.home section.splash .actions a,.page.home section.splash p.tagline,footer .social a,footer .tagline,h1,h2,h3,header,header button.mobile-toggle,main.side-nav-layout button.nav.mobile{font-family:Raleway,Arial,sans-serif;font-weight:100;letter-spacing:1px}.page.home section.features-1 ul li .title,.page.home section.next-links>div a,.page.home section.splash .actions a,header button.mobile-toggle,main.side-nav-layout button.nav.mobile{font-weight:300}.page.home section.features-1 .intro,body,main.side-nav-layout aside,main.side-nav-layout aside li.active>a{font-family:Open Sans,Arial,sans-serif;font-weight:300}main.side-nav-layout aside li.active>a{font-weight:400}.page.guide section.content code,.page.home section.quick-start pre,.page.home section.splash .install{font-family:Roboto Mono,monospace;font-weight:300}mixin standard-box-shadow(){box-shadow:0 7px 26px -1px rgba(0,0,0,.53)}.page.guide section.content code[class*=hljs],.page.guide section.content img{max-width:100%;box-shadow:0 0 11px 0 rgba(0,0,0,.5)}html{font-size:16px}body{background-color:#fff;margin:0;padding:0}a{color:#3498db;text-decoration:none;border-bottom:1px solid #3498db;-webkit-transition:all .2s linear;transition:all .2s linear}a:hover{color:#fff;background-color:#3498db}.page{position:relative;min-height:100vh;width:100%}.page main{background-color:#fff;min-height:calc(100vh - 64px);padding:1em 1.5em 0}@media only screen and (max-width:500px){.page main{padding:1em}}strong{font-weight:bolder}i{display:inline-block;-webkit-transition:all .2s linear;transition:all .2s linear}i.twitter{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}i.twitter:before{content:"\F099"}i.github{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}i.github:before{content:"\F09B"}i.discuss{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}i.discuss:before{content:"\F086"}i.menu{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}i.menu:before{content:"\F0C9"}i.menu.open{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}i.menu.open:before{content:"\F0C9"}i.changelog{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}i.changelog:before{content:"\F126"}i.arrow.right{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}i.arrow.right:before{content:"\F101"}i.arrow.left{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(180deg);transform:rotate(180deg)}i.arrow.left:before{content:"\F101"}.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}header{position:relative;width:100%;height:64px;margin-bottom:1.5em;-webkit-transition:all .3s linear;transition:all .3s linear;background-color:#2c3e50;color:#fff}.page.home .headroom--unfixed header{background-color:#3498db;color:#fff;box-shadow:none}.page.home .headroom--pinned header{background-color:#2c3e50;color:#fff}header .brand{position:absolute;height:64px}header .brand a{text-decoration:none;padding:0 .5em;line-height:64px;font-size:1.5rem}header .brand a,header .brand a:hover{color:inherit;background-color:inherit;border-bottom:none}header .brand a:hover{border-radius:0}header ul.nav{position:absolute;height:64px;right:15px;list-style:none;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-ms-flex-flow:row nowrap;flex-flow:row;-webkit-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center}header ul.nav li{display:inline-block;margin-right:1.3em}@media only screen and (max-width:800px){header ul.nav li{margin-right:1em}}header ul.nav li:last-child{margin-right:0}header ul.nav li a{color:#fff;text-decoration:none;border:1px solid transparent;-webkit-transition:all .2s linear;transition:all .2s linear;padding:0 .5em;border-radius:5px;font-size:1.2em;display:inline-block;height:100%;line-height:48px}header ul.nav li a.active,header ul.nav li a:hover{color:#fff;background-color:transparent;border:1px solid #fff}header ul.nav li.social{margin-right:.3em}header ul.nav li.social a{font-size:1em}@media only screen and (max-width:500px){header ul.nav{opacity:0;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);z-index:10;pointer-events:none;-webkit-transition:opacity .3s linear;transition:opacity .3s linear;display:block;top:48px;height:auto;border-radius:10px;border:1px solid #2980b9;background-color:#2980b9}header ul.nav li{display:block;background-color:transparent;margin:0;border-bottom:1px solid #3498db}header ul.nav li.social{margin:0}header ul.nav li:last-child{border-bottom:none}header ul.nav li a{color:#fff;text-decoration:none;border:1px solid transparent;-webkit-transition:all .2s linear;transition:all .2s linear;padding:0 .5em;border-radius:5px;font-size:1em;display:block;border-radius:0;text-align:center;font-weight:bolder}header ul.nav li a.active,header ul.nav li a:hover{color:#2980b9;background-color:#fff;border:1px solid transparent}header ul.nav.active{opacity:1;-ms-filter:none;filter:none;pointer-events:auto}}header button.mobile-toggle{border-radius:10px;border:1px solid #fff;padding:.7em 1em;-webkit-transition:all .2s linear;transition:all .2s linear;color:#fff;background-color:transparent;display:none;position:absolute;right:15px;top:16px;width:32px;height:32px;padding:0;cursor:pointer}header button.mobile-toggle:hover{border-radius:10px;border:1px solid #fff;color:#3498db;background-color:#fff}header button.mobile-toggle i{display:block}@media only screen and (max-width:500px){header button.mobile-toggle{display:block}}footer{width:100%;height:50px;border-top:1px solid #ccc;padding:1em;margin-top:60px;color:#666;text-align:center}footer .tagline{margin:0 0 1em}footer .credits{font-size:50%}footer .social{margin-top:1em}footer .social a{text-decoration:none;display:inline-block;margin:0 .2em;width:24px;height:24px;opacity:.5;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";filter:alpha(opacity=50);-webkit-transition:all .3s linear;transition:all .3s linear}footer .social a,footer .social a:hover{color:inherit;background-color:inherit;border-bottom:none}footer .social a:hover{border-radius:0;opacity:1;-ms-filter:none;filter:none}main.side-nav-layout{padding-top:2em}main.side-nav-layout section.content{position:relative;display:inline-block;vertical-align:top;width:79%;padding-left:20px;font-size:1rem;line-height:1.5em;word-wrap:break-word}@media only screen and (max-width:500px){main.side-nav-layout section.content{width:100%;padding:0 1em}}main.side-nav-layout section.content .prev-next{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;margin-top:4em;font-size:75%;width:100%}main.side-nav-layout aside{display:inline-block;vertical-align:top;padding:0 20px 0 0;border-right:1px solid #ecf0f1;font-size:1rem;width:20%;overflow:hidden}main.side-nav-layout aside a{border-bottom:none}main.side-nav-layout aside a:hover{border-bottom:1px dashed #000}main.side-nav-layout aside li.active>a{font-size:140%;color:#000;border-bottom:1px dashed #000}main.side-nav-layout aside li.active>a:hover{color:#fff}main.side-nav-layout aside>ul>li{line-height:2em}main.side-nav-layout aside>ul>li>ul{display:none}main.side-nav-layout aside>ul>li.active>ul{color:#000;display:block;font-size:80%;margin:.7em 0 0 2em}main.side-nav-layout aside>ul>li.active>ul>li{line-height:1.8em}@media only screen and (max-width:500px){main.side-nav-layout aside{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2;left:-100vw;-webkit-transition:all .2s linear;transition:all .2s linear;overflow-y:scroll;background-color:#fff}main.side-nav-layout aside ul{margin:1em 0 0 4em}main.side-nav-layout aside.mobile.visible{left:0}}main.side-nav-layout button.nav.mobile{border-radius:10px;border:1px solid #2980b9;padding:.7em 1em;-webkit-transition:all .2s linear;transition:all .2s linear;color:#fff;background-color:#2980b9;cursor:pointer;display:none;position:fixed;top:64px;left:0;padding:.2em .3em;font-size:1.5rem;border-top-left-radius:0;border-bottom-left-radius:0;border-left:none;z-index:4}main.side-nav-layout button.nav.mobile:hover{border-radius:10px;border:1px solid #3498db;color:#fff;background-color:#3498db;border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}@media only screen and (max-width:500px){main.side-nav-layout button.nav.mobile{display:block}}.page.home{position:relative}.page.home .headroom-wrapper{background-color:#3498db}@media only screen and (max-width:500px){.page.home .headroom-wrapper{height:64px!important}}.page.home main{padding:0;margin-top:-1px}.page.home section.splash{height:calc(100vh - 64px);background-color:#3498db;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-ms-flex-flow:column nowrap;flex-flow:column;-webkit-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;font-size:1.7rem;text-align:center}@media only screen and (max-width:500px){.page.home section.splash{font-size:1.3rem}}.page.home section.splash .logo{display:block;-webkit-transition:all .3s linear;transition:all .3s linear;width:144px;height:144px;margin:0 0 .5em;background-image:url("/img/logo.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.splash .logo{background-image:url("/img/logo@2x.png");background-size:contain}}@media only screen and (max-width:500px){.page.home section.splash .logo{width:96px;height:96px}}.page.home section.splash p.tagline{margin:.7em 0;font-size:120%;line-height:1.2em;width:50%}@media only screen and (max-width:800px){.page.home section.splash p.tagline{width:80%;margin-bottom:0}}.page.home section.splash .actions{margin:1em 0 2em}@media only screen and (max-width:500px){.page.home section.splash .actions{margin-bottom:1em}}.page.home section.splash .actions a{border-radius:10px;border:1px solid #fff;padding:.7em 1em;-webkit-transition:all .2s linear;transition:all .2s linear;color:#fff;background-color:transparent;cursor:pointer;font-size:80%;margin:0 .5em}.page.home section.splash .actions a:hover{border-radius:10px;border:1px solid #fff;color:#3498db;background-color:#fff}@media only screen and (max-width:500px){.page.home section.splash .actions a{display:block;margin:.5em auto;font-size:100%}}.page.home section.splash .install{font-size:60%;padding:.3em .4em;background-color:#2c3e50;border-radius:5px}.page.home section.splash .meta{margin-top:1.2em}.page.home section.splash .meta a{text-decoration:none;border:1px solid transparent;-webkit-transition:all .2s linear;transition:all .2s linear;padding:0 .5em;border-radius:5px;font-size:50%;color:#fff;margin:0 .5em}.page.home section.splash .meta a.active,.page.home section.splash .meta a:hover{color:#000;background-color:#fff;border:1px solid transparent}.page.home section.splash .meta a i+span{margin-left:.3em}.page.home section.features-1{padding:1em}.page.home section.features-1 .intro{width:80%;font-size:2.2rem;text-align:center;margin:1em auto 1.5em;line-height:1.5em}@media only screen and (max-width:500px){.page.home section.features-1 .intro{font-size:1.8rem}}.page.home section.features-1 ul{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:start;-o-box-align:start;-ms-flex-align:start;align-items:flex-start;margin:0 auto;width:90%}@media only screen and (max-width:800px){.page.home section.features-1 ul{width:100%}}@media only screen and (max-width:500px){.page.home section.features-1 ul{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-box-lines:single;-moz-box-lines:single;-o-box-lines:single;-ms-flex-flow:column nowrap;flex-flow:column}}.page.home section.features-1 ul li{display:block;width:30%;font-size:1rem;margin:1.5em auto}@media only screen and (max-width:800px){.page.home section.features-1 ul li{width:40%}}@media only screen and (max-width:500px){.page.home section.features-1 ul li{display:block;width:100%}}.page.home section.features-1 ul li .title{display:inline-block;font-size:140%}.page.home section.features-1 ul li .title:before{display:inline-block;vertical-align:top;margin:0 .5em .3em 0;content:" ";width:32px;height:32px}.page.home section.features-1 ul li .description{margin-top:1em;line-height:1.4em}.page.home section.features-1 ul li:nth-child(1) .title:before{background-image:url("/img/icon-rocket.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(1) .title:before{background-image:url("/img/icon-rocket@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(2) .title:before{background-image:url("/img/icon-plugin.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(2) .title:before{background-image:url("/img/icon-plugin@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(3) .title:before{background-image:url("/img/icon-text-field.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(3) .title:before{background-image:url("/img/icon-text-field@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(4) .title:before{background-image:url("/img/icon-routing.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(4) .title:before{background-image:url("/img/icon-routing@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(5) .title:before{background-image:url("/img/icon-template.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(5) .title:before{background-image:url("/img/icon-template@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(6) .title:before{background-image:url("/img/icon-users.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(6) .title:before{background-image:url("/img/icon-users@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(7) .title:before{background-image:url("/img/icon-email.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(7) .title:before{background-image:url("/img/icon-email@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(8) .title:before{background-image:url("/img/icon-cron.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(8) .title:before{background-image:url("/img/icon-cron@2x.png");background-size:contain}}.page.home section.features-1 ul li:nth-child(9) .title:before{background-image:url("/img/icon-setup.png");background-size:contain;background-repeat:no-repeat;background-position:50%}@media (min--moz-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx),(min-resolution:138dpi),all and (-webkit-min-device-pixel-ratio:1.5){.page.home section.features-1 ul li:nth-child(9) .title:before{background-image:url("/img/icon-setup@2x.png");background-size:contain}}.page.home section.quick-start{margin:2em 0;background-color:#2c3e50;padding:3em 1em;color:#fff;text-align:center;font-size:1rem}@media only screen and (max-width:500px){.page.home section.quick-start{padding:1em;font-size:.8rem}}.page.home section.quick-start .wrapper{display:inline-block;width:80%;text-align:left}@media only screen and (max-width:500px){.page.home section.quick-start .wrapper{width:100%}}.page.home section.quick-start h2{display:block;font-size:200%;margin-bottom:.8em}.page.home section.quick-start div,.page.home section.quick-start pre{display:inline-block}.page.home section.quick-start pre{line-height:1.5em;background-color:#000;width:40%;padding:1em;margin-right:2em}.page.home section.quick-start div{vertical-align:top;width:50%;font-size:110%;line-height:1.3em}.page.home section.quick-start div p{margin-bottom:1em}@media only screen and (max-width:800px){.page.home section.quick-start pre{display:block;width:100%}.page.home section.quick-start div{display:block;margin-top:1.5em;line-height:1.5em;width:100%}}.page.home section.next-links{margin-top:2em;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-box-lines:multiple;-moz-box-lines:multiple;-o-box-lines:multiple;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;font-size:1rem}.page.home section.next-links>div{margin:2em 0;text-align:center}@media only screen and (max-width:500px){.page.home section.next-links>div{margin:1em 0}}.page.home section.next-links>div a{border-radius:10px;border:1px solid #3498db;padding:.7em 1em;-webkit-transition:all .2s linear;transition:all .2s linear;color:#3498db;background-color:transparent;cursor:pointer;display:inline-block;margin:0 .5em;font-size:140%}.page.home section.next-links>div a:hover{border-radius:10px;border:1px solid #3498db;color:#fff;background-color:#3498db}.page.home section.next-links>div p{width:70%;margin:1em auto 0;line-height:1.2em}.page.guide{position:relative}.page.guide section.content h1{font-size:250%;margin:0 0 1em;line-height:1em}.page.guide section.content h2{font-size:160%;margin:1.5em 0 1em;line-height:1em}.page.guide section.content h3{font-size:130%;margin:1.5em 0 1em;line-height:1em}.page.guide section.content p{margin:1em 0}.page.guide section.content em{font-style:italic;font-size:90%}.page.guide section.content ol{list-style:decimal}.page.guide section.content ul{list-style:disc}.page.guide section.content ol,.page.guide section.content ul{margin:1em 0 1em 3em}.page.guide section.content ol li,.page.guide section.content ul li{padding:.2em 0}.page.guide section.content code[class*=hljs]{display:block;border-radius:5px;word-wrap:normal;margin-bottom:1.7em}.page.guide section.content code:not([class*=hljs]){display:inline;font-size:110%;padding:.1em .2em;background-color:#ecf0f1;border-radius:5px}.page.guide section.content a.github-edit-link{border-bottom:none;position:absolute;font-size:70%;text-transform:lowercase;top:0;right:0;filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(0deg);transform:rotate(0deg)}.page.guide section.content a.github-edit-link:before{content:"\F044";margin-right:.2em}.page.api{position:relative}.page.api main.side-nav-layout aside{font-size:.8rem}</style></head><body><div id="react-mount"><div class="page guide" data-reactroot="" data-reactid="1" data-react-checksum="-133056070"><div class="headroom-wrapper" data-reactid="2"><div style="position:relative;top:0;left:0;right:0;z-index:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);" class="headroom headroom--unfixed" data-reactid="3"><header data-reactid="4"><section class="brand" data-reactid="5"><a href="/" data-reactid="6">Waigo.js</a></section><button class="mobile-toggle" data-reactid="7"><i class="menu" data-reactid="8"></i></button><ul class="nav" data-reactid="9"><li class="" data-reactid="10"><a title="Documentation guide" class="active" href="/docs/introduction/motivation/" data-reactid="11">Guide</a></li><li class="" data-reactid="12"><a title="API docs" class="" href="/api/" data-reactid="13">API</a></li><li class="social" data-reactid="14"><a title="Twitter" href="https://twitter.com/waigojs" class="" data-reactid="15"><i class="twitter" data-reactid="16"></i></a></li><li class="social" data-reactid="17"><a title="Github" href="https://github.com/waigo/waigo" class="" data-reactid="18"><i class="github" data-reactid="19"></i></a></li><li class="social" data-reactid="20"><a title="Discuss" href="https://discord.gg/Jf3pGjf" class="" data-reactid="21"><i class="discuss" data-reactid="22"></i></a></li></ul></header></div></div><main class="side-nav-layout" data-reactid="23"><button class="nav mobile" title="Toggle nav menu" data-reactid="24"><i class="arrow right" data-reactid="25"></i></button><aside class="" data-reactid="26"><ul data-reactid="27"><li class="" data-reactid="28"><a href="/docs/introduction/" data-reactid="29">Introduction</a><ul data-reactid="30"><li class="" data-reactid="31"><a href="/docs/introduction/motivation/" data-reactid="32">Motivation</a></li><li class="" data-reactid="33"><a href="/docs/introduction/middlewareprimer/" data-reactid="34">Middleware primer</a></li><li class="" data-reactid="35"><a href="/docs/introduction/folderstructure/" data-reactid="36">Folder structure</a></li><li class="" data-reactid="37"><a href="/docs/introduction/codingstandard/" data-reactid="38">Coding standard</a></li></ul></li><li class="" data-reactid="39"><a href="/docs/gettingstarted/" data-reactid="40">Getting Started</a><ul data-reactid="41"><li class="" data-reactid="42"><a href="/docs/gettingstarted/requirements/" data-reactid="43">Requirements</a></li><li class="" data-reactid="44"><a href="/docs/gettingstarted/installation/" data-reactid="45">Installation</a></li><li class="" data-reactid="46"><a href="/docs/gettingstarted/runninghelloworld/" data-reactid="47">Running &quot;Hello World&quot;</a></li><li class="" data-reactid="48"><a href="/docs/gettingstarted/buildworkflowlivereload/" data-reactid="49">Build workflow and Live reload</a></li></ul></li><li class="" data-reactid="50"><a href="/docs/extendandoverride/" data-reactid="51">Extend and Override</a><ul data-reactid="52"><li class="" data-reactid="53"><a href="/docs/extendandoverride/moduleloader/" data-reactid="54">Module Loader</a></li><li class="" data-reactid="55"><a href="/docs/extendandoverride/usingplugins/" data-reactid="56">Using Plugins</a></li><li class="" data-reactid="57"><a href="/docs/extendandoverride/creatingplugins/" data-reactid="58">Creating Plugins</a></li></ul></li><li class="" data-reactid="59"><a href="/docs/commandline/" data-reactid="60">Command-Line (CLI)</a><ul data-reactid="61"><li class="" data-reactid="62"><a href="/docs/commandline/usingthecli/" data-reactid="63">Using the CLI</a></li><li class="" data-reactid="64"><a href="/docs/commandline/creatingcustomcommands/" data-reactid="65">Creating custom commands</a></li></ul></li><li class="" data-reactid="66"><a href="/docs/appconfiguration/" data-reactid="67">App configuration</a><ul data-reactid="68"><li class="" data-reactid="69"><a href="/docs/appconfiguration/appobject/" data-reactid="70">App object</a></li><li class="" data-reactid="71"><a href="/docs/appconfiguration/configuration/" data-reactid="72">Configuration</a></li><li class="" data-reactid="73"><a href="/docs/appconfiguration/startupsteps/" data-reactid="74">Startup steps</a></li><li class="" data-reactid="75"><a href="/docs/appconfiguration/shutdownsteps/" data-reactid="76">Shutdown steps</a></li></ul></li><li class="" data-reactid="77"><a href="/docs/logging/" data-reactid="78">Logging</a><ul data-reactid="79"><li class="" data-reactid="80"><a href="/docs/logging/howtouse/" data-reactid="81">How to use</a></li><li class="" data-reactid="82"><a href="/docs/logging/subcategories/" data-reactid="83">Sub-categories</a></li></ul></li><li class="" data-reactid="84"><a href="/docs/events/" data-reactid="85">Events</a></li><li class="active" data-reactid="86"><a href="/docs/errorhandling/" data-reactid="87">Error handling</a><ul data-reactid="88"><li class="" data-reactid="89"><a href="/docs/errorhandling/builtinerrorclasses/" data-reactid="90">Built-in Error classes</a></li><li class="" data-reactid="91"><a href="/docs/errorhandling/creatingyourown/" data-reactid="92">Creating your own</a></li><li class="active" data-reactid="93"><a href="/docs/errorhandling/errormiddleware/" data-reactid="94">Error middleware</a></li></ul></li><li class="" data-reactid="95"><a href="/docs/middleware/" data-reactid="96">Middleware</a><ul data-reactid="97"><li class="" data-reactid="98"><a href="/docs/middleware/defining/" data-reactid="99">Defining</a></li><li class="" data-reactid="100"><a href="/docs/middleware/configuring/" data-reactid="101">Configuring</a></li><li class="" data-reactid="102"><a href="/docs/middleware/commonmiddleware/" data-reactid="103">Common middleware</a></li></ul></li><li class="" data-reactid="104"><a href="/docs/controllers/" data-reactid="105">Controllers</a></li><li class="" data-reactid="106"><a href="/docs/databaseandmodels/" data-reactid="107">Database and Models</a><ul data-reactid="108"><li class="" data-reactid="109"><a href="/docs/databaseandmodels/databaseconnections/" data-reactid="110">Database connections</a></li><li class="" data-reactid="111"><a href="/docs/databaseandmodels/overviewofmodels/" data-reactid="112">Overview of models</a></li><li class="" data-reactid="113"><a href="/docs/databaseandmodels/definingandusingmodels/" data-reactid="114">Defining and using models</a></li><li class="" data-reactid="115"><a href="/docs/databaseandmodels/builtinmodels/" data-reactid="116">Built-in models</a></li><li class="" data-reactid="117"><a href="/docs/databaseandmodels/reactiveupdates/" data-reactid="118">Reactive updates</a></li></ul></li><li class="" data-reactid="119"><a href="/docs/routing/" data-reactid="120">Routing</a><ul data-reactid="121"><li class="" data-reactid="122"><a href="/docs/routing/howtouse/" data-reactid="123">How to use</a></li><li class="" data-reactid="124"><a href="/docs/routing/generatingurls/" data-reactid="125">Generating URLs</a></li><li class="" data-reactid="126"><a href="/docs/routing/singlepageapps/" data-reactid="127">Single-page apps</a></li></ul></li><li class="" data-reactid="128"><a href="/docs/renderingoutput/" data-reactid="129">Rendering output</a><ul data-reactid="130"><li class="" data-reactid="131"><a href="/docs/renderingoutput/enabling/" data-reactid="132">Enabling</a></li><li class="" data-reactid="133"><a href="/docs/renderingoutput/renderingmethods/" data-reactid="134">Rendering methods</a></li><li class="" data-reactid="135"><a href="/docs/renderingoutput/jsonoutput/" data-reactid="136">JSON output</a></li><li class="" data-reactid="137"><a href="/docs/renderingoutput/settingoutputformat/" data-reactid="138">Setting the output format</a></li><li class="" data-reactid="139"><a href="/docs/renderingoutput/customformats/" data-reactid="140">Custom formats</a></li></ul></li><li class="" data-reactid="141"><a href="/docs/viewtemplates/" data-reactid="142">View templates</a><ul data-reactid="143"><li class="" data-reactid="144"><a href="/docs/viewtemplates/templatedata/" data-reactid="145">Template data</a></li><li class="" data-reactid="146"><a href="/docs/viewtemplates/contextlevelandappleveldata/" data-reactid="147">Context-level and app-level data</a></li></ul></li><li class="" data-reactid="148"><a href="/docs/staticresources/" data-reactid="149">Static resources</a><ul data-reactid="150"><li class="" data-reactid="151"><a href="/docs/staticresources/collationofstaticresources/" data-reactid="152">Collation of static resources</a></li><li class="" data-reactid="153"><a href="/docs/staticresources/requestmiddleware/" data-reactid="154">Request middleware</a></li><li class="" data-reactid="155"><a href="/docs/staticresources/generatingurlpaths/" data-reactid="156">Generating URL paths</a></li></ul></li><li class="" data-reactid="157"><a href="/docs/sessions/" data-reactid="158">Sessions</a></li><li class="" data-reactid="159"><a href="/docs/forms/" data-reactid="160">Forms</a><ul data-reactid="161"><li class="" data-reactid="162"><a href="/docs/forms/definingandusing/" data-reactid="163">Defining and using</a></li><li class="" data-reactid="164"><a href="/docs/forms/stateanddirtychecking/" data-reactid="165">State and dirty-checking</a></li><li class="" data-reactid="166"><a href="/docs/forms/sanitizers/" data-reactid="167">Sanitizers</a></li><li class="" data-reactid="168"><a href="/docs/forms/validators/" data-reactid="169">Validators</a></li><li class="" data-reactid="170"><a href="/docs/forms/postvalidationhooks/" data-reactid="171">Post-validation hooks</a></li><li class="" data-reactid="172"><a href="/docs/forms/builtinfieldtypes/" data-reactid="173">Built-in field types</a></li><li class="" data-reactid="174"><a href="/docs/forms/customfieldtypes/" data-reactid="175">Custom field types</a></li></ul></li><li class="" data-reactid="176"><a href="/docs/scaling/" data-reactid="177">Scaling</a><ul data-reactid="178"><li class="" data-reactid="179"><a href="/docs/scaling/multiprocessclustering/" data-reactid="180">Multi-process clustering</a></li></ul></li><li class="" data-reactid="181"><a href="/docs/bestpractices/" data-reactid="182">Best practices</a></li></ul></aside><section class="content" data-reactid="183"><div data-reactid="184"><a class="github-edit-link" href="https://github.com/waigo/waigo/tree/master/docs/ErrorHandling/ErrorMiddleware.md" data-reactid="185">Edit page</a><div data-reactid="186"><h1 data-reactid="187">Error middleware</h1><!-- react-text: 188 -->
<!-- /react-text --><p data-reactid="189"><!-- react-text: 190 -->The <!-- /react-text --><a href="https://github.com/waigo/waigo/blob/master/src/support/middleware/errorHandler.js" data-reactid="191">error handling middleware</a><!-- react-text: 192 --> is responsible for catching and dealing with any errors thrown during the servicing of an incoming
request.<!-- /react-text --></p><!-- react-text: 193 -->
<!-- /react-text --><p data-reactid="194"><!-- react-text: 195 -->Errors get logged through the default App logger as well as getting sent back
to the client which made the original request. The HTTP response status code
will be set to the status code set within the thrown error (or 500 if not
set). The error <!-- /react-text --><a href="https://github.com/waigo/waigo/blob/master/src/views/error.pug" data-reactid="196">view template</a><!-- react-text: 197 --> is used to render the error for
the user if the client requested a HTML response. If the requested a JSON
response then the raw JSON of the error will be returned.<!-- /react-text --></p><!-- react-text: 198 -->
<!-- /react-text --><p data-reactid="199"><!-- react-text: 200 -->The error middleware also adds a convenience method - <!-- /react-text --><code data-reactid="201">throw()</code><!-- react-text: 202 --> to the current
Koa request context, allowing you to more easily throw an instance of the
defined error classes:<!-- /react-text --></p><!-- react-text: 203 -->
<!-- /react-text --><pre data-reactid="204"><code class="language-javascript hljs" data-reactid="205"><span class="hljs-comment" data-reactid="206">// file: &lt;project folder&gt;/src/controllers/index.js</span><!-- react-text: 207 -->
<!-- /react-text --><span class="hljs-meta" data-reactid="208">&quot;use strict&quot;</span><!-- react-text: 209 -->;

<!-- /react-text --><span class="hljs-keyword" data-reactid="210">const</span><!-- react-text: 211 --> waigo = <!-- /react-text --><span class="hljs-built_in" data-reactid="212">require</span><!-- react-text: 213 -->(<!-- /react-text --><span class="hljs-string" data-reactid="214">&#x27;waigo&#x27;</span><!-- react-text: 215 -->),
  MultipleError = waigo.load(<!-- /react-text --><span class="hljs-string" data-reactid="216">&#x27;support/errors&#x27;</span><!-- react-text: 217 -->).MultipleError;

exports.main = <!-- /react-text --><span class="hljs-function" data-reactid="218"><span class="hljs-keyword" data-reactid="219">function</span><!-- react-text: 220 -->*(<!-- /react-text --><span class="hljs-params" data-reactid="221"></span><!-- react-text: 222 -->) <!-- /react-text --></span><!-- react-text: 223 -->{
  <!-- /react-text --><span class="hljs-keyword" data-reactid="224">this</span><!-- react-text: 225 -->.throw(<!-- /react-text --><span class="hljs-string" data-reactid="226">&#x27;this will be a RuntimeError instance&#x27;</span><!-- react-text: 227 -->);
  <!-- /react-text --><span class="hljs-keyword" data-reactid="228">this</span><!-- react-text: 229 -->.throw(MultipleError, <!-- /react-text --><span class="hljs-string" data-reactid="230">&#x27;this will be a RuntimeError instance&#x27;</span><!-- react-text: 231 -->);
};
<!-- /react-text --></code></pre><!-- react-text: 232 -->
<!-- /react-text --></div></div><div class="prev-next" data-reactid="233"><a class="prev" href="/docs/errorhandling/creatingyourown/" data-reactid="234"><!-- react-text: 235 -->« <!-- /react-text --><!-- react-text: 236 -->Error handling: Creating your own<!-- /react-text --></a><a class="next" href="/docs/middleware/" data-reactid="237"><!-- react-text: 238 -->Middleware<!-- /react-text --><!-- react-text: 239 --> »<!-- /react-text --></a></div></section></main><footer data-reactid="240"><p class="tagline quoted" data-reactid="241">Node.js ES6 framework for reactive, data-driven apps and APIs</p><div class="credits" data-reactid="242"><!-- react-text: 243 -->Icons made by <!-- /react-text --><a href="http://www.freepik.com" title="Freepik" data-reactid="244">Freepik</a><!-- react-text: 245 --> from <!-- /react-text --><a href="http://www.flaticon.com" title="Flaticon" data-reactid="246">www.flaticon.com</a><!-- react-text: 247 --> is licensed by <!-- /react-text --><a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank" data-reactid="248">CC 3.0 BY</a></div><div class="social" data-reactid="249"><a title="Github" href="https://github.com/waigo/waigo" data-reactid="250"><i class="github" data-reactid="251"></i></a><a title="Twitter" href="https://twitter.com/waigojs" data-reactid="252"><i class="twitter" data-reactid="253"></i></a><a title="discuss" href="https://discord.gg/Jf3pGjf" data-reactid="254"><i class="discuss" data-reactid="255"></i></a></div></footer></div></div><script src="/bundle.js?t=1475392093455"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-11640584-17', 'auto');
            ga('send', 'pageview');
          </script></body></html>